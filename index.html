<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Road Safety Analysis Dashboard</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700&family=Arial:wght@400;700' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="public/sign-visual/css/style.css">
    <link rel="stylesheet" href="public/ped-visual/css/styles.css">
    <link rel="stylesheet" href="public/solution-visual/css/style.css">
</head>
<body>

<!-- Main container that holds everything -->
<div class="main-container">
    <!-- SIGN CHART VISUALIZATION (Page 1) -->
    <div id="signChartPage" class="visualization-page">
        <div class="container py-5">
            <div class="row justify-content-center text-center mb-4" id="cardsRow">
                <div class="col-4 col-md-2 d-flex justify-content-center">
                    <div class="category-card">
                        <div class="rank" id="bikeRank">1</div>
                        <img src="public/sign-visual/svg/bike.svg" class="icon" alt="Bike">
                        <div class="count" id="bikeCount">0</div>
                        <div class="name">Bike</div>
                    </div>
                </div>
                <div class="col-4 col-md-2 d-flex justify-content-center">
                    <div class="category-card">
                        <div class="rank" id="carRank">2</div>
                        <img src="public/sign-visual/svg/car.svg" class="icon" alt="Car">
                        <div class="count" id="carCount">0</div>
                        <div class="name">Car</div>
                    </div>
                </div>
                <div class="col-4 col-md-2 d-flex justify-content-center">
                    <div class="category-card">
                        <div class="rank" id="pedestrianRank">3</div>
                        <img src="public/sign-visual/svg/pedestrian.svg" class="icon" alt="Pedestrian">
                        <div class="count" id="pedestrianCount">0</div>
                        <div class="name">Pedestrian</div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center mt-4">
                <div class="col-md-8" id="yearScrollContainer"></div>
                <div class="text-center mt-2">
                    <button class="btn btn-success" id="playBtn">GO</button>
                    <div id="currentYear" class="mt-2 fw-bold"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- EMPTY VISUAL PAGE (Page 2) -->
    <div id="emptyVisualPage" class="visualization-page" style="display: none;">
        <div class="container py-5 text-center">
            <h1>Empty Visual Page</h1>
            <p>Next visualization in progress...</p>
        </div>
    </div>

    <!-- EMPTY VISUAL PAGE (Page 3) -->
    <div id="pedestrianPage" class="visualization-page" style="display: none;">
        <div class="container py-5 text-center">
            <h1>Empty Visual Page</h1>
            <p>Next visualization in progress...</p>
        </div>
    </div>

    <!-- SOLUTION MAPS PAGE (Page 4) -->
    <div id="solutionMapsPage" class="visualization-page" style="display: none;">
        <header class="d-flex justify-content-center align-items-center">
            <h1>Toronto Collisions Map - Safety Solutions</h1>
        </header>

        <!-- Main Container -->
        <div id="main-container" class="container rounded shadow p-3">
            <div class="row">
                <!-- Map Visualization -->
                <div id="mapDiv" class="col-9 rounded"></div>

                <!-- Options Panel -->
                <div id="options-panel" class="col-3 rounded shadow-sm p-3">
                    <div class="options-title mb-3">Options</div>

                    <div class="filter-option mb-2">
                        <input type="checkbox" id="filter-fatal" checked>
                        <label for="filter-fatal" class="d-flex align-items-center">
                            <span class="filter-indicator me-2"></span>
                            <span class="filter-label me-auto">Fatal</span>
                            <span class="filter-checkbox fatal"></span>
                        </label>
                    </div>

                    <div class="filter-option mb-2">
                        <input type="checkbox" id="filter-major" checked>
                        <label for="filter-major" class="d-flex align-items-center">
                            <span class="filter-indicator me-2"></span>
                            <span class="filter-label me-auto">Major</span>
                            <span class="filter-checkbox major"></span>
                        </label>
                    </div>

                    <div class="filter-option mb-2">
                        <input type="checkbox" id="filter-minor" checked>
                        <label for="filter-minor" class="d-flex align-items-center">
                            <span class="filter-indicator me-2"></span>
                            <span class="filter-label me-auto">Minor</span>
                            <span class="filter-checkbox minor"></span>
                        </label>
                    </div>

                    <div class="filter-option mb-2">
                        <input type="checkbox" id="filter-minimal" checked>
                        <label for="filter-minimal" class="d-flex align-items-center">
                            <span class="filter-indicator me-2"></span>
                            <span class="filter-label me-auto">Minimal</span>
                            <span class="filter-checkbox minimal"></span>
                        </label>
                    </div>

                    <div class="d-flex gap-2 mt-3" style="gap: 8px;">
                        <button id="playButton" class="btn btn-primary" style="width: 55px; height: 40px; padding: 0; font-weight: 700; border-radius: 8px; background-color: #000; border: 1px solid #000; color: #fff; transition: background-color 0.2s ease; display: flex; align-items: center; justify-content: center; font-size: 16px; cursor: pointer;">â–¶</button>
                        <button id="improvementsButton" class="btn btn-primary flex-grow-1" style="height: 40px; padding: 10px; font-weight: 700; border-radius: 8px; background-color: #000; border: 1px solid #000; color: #fff; transition: background-color 0.2s ease; cursor: pointer;">Improvements</button>
                    </div>

                    <div class="mt-4">
                        <h6 class="fw-bold">Top Neighborhoods by Collision Count</h6>
                        <div id="locationChart"></div>
                    </div>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-9">
                    <div id="timelineDiv" class="rounded"></div>
                </div>
                <div class="col-3 d-flex align-items-center justify-content-end">
                    <!-- Empty space for alignment -->
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Load JS libraries -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Load sign chart scripts -->
<script src="public/sign-visual/js/yearScroll.js"></script>
<script src="public/sign-visual/js/playButton.js"></script>
<script src="public/sign-visual/js/signChart.js"></script>

<!-- Load other visualizations -->
<script src="public/ped-visual/js/barChart.js"></script>
<script src="public/ped-visual/js/main.js"></script>

<!-- Your Toronto Crash Visualization Solution -->
<script src="public/solution-visual/js/crashPointsVis.js"></script>
<script src="public/solution-visual/js/mapVis.js"></script>
<script src="public/solution-visual/js/timelineVis.js"></script>
<script src="public/solution-visual/js/locationChart.js"></script>
<script src="public/solution-visual/js/improvementsVis.js"></script>
<script src="public/solution-visual/js/main.js"></script>

<!-- Navigation System -->
<script src="public/sign-visual/js/nextPage.js"></script>

</body>
</html>