<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vehicle Injury Analysis</title>

    <!-- Load Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700&family=Roboto:100,300,400,500,700' rel='stylesheet' type='text/css'>

    <!-- Custom CSS code -->
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="css/iframe-override.css">
    <style>
        body, html, * {
            font-family: 'Overpass', sans-serif !important;
        }
    </style>
</head>
<body>
    <div class="infographic-container">
        <!-- Title Section -->
        <div class="title-section">
            <h1 class="main-title">
                <span class="title-line-1">Vehicle Injury Analysis</span>
                <span class="title-line-2">by Vehicle Type</span>
            </h1>

            <div class="description-section">
                <p>This visualization shows the number of injuries
                    by vehicle type for different times of day and years.</p>
                <p>Use the year slider and time control to explore how injuries vary across
                        different vehicle types throughout the day and over the years.
                </p>
            </div>
        </div>

        <!-- Main Visualization Area -->
        <!-- Main Visualization Area -->
        <div class="visualization-area">
            <div class="main-layout">
                <!-- Left: Time Slider (Clock) -->
                <div class="left-panel">
                    <h5 class="control-label">Time</h5>
                    <div id="timeSlider"></div>
                    <div id="timeDisplay" class="display-text">
                    </div>
                </div>

                <!-- Right: Chart and Timeline -->
                <div class="right-panel">
                    <!-- Visualization Container (Bar Chart) -->
                    <div class="viz-container">
                        <div id="vizContainer"></div>
                    </div>

                    <!-- Timeline (Year Scroller) with controls on left -->
                    <div class="timeline-section" style="margin-top: -40px; padding-top: 0;">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <!-- Controls on the left - closer to year scroller -->
                            <div style="flex-shrink: 0; width: 60px; margin-top: 25px;">
                                <div class="control-buttons" style="display: flex; flex-direction: column; gap: 8px;">
                                    <div class="play-button" id="playBtn">
                                        <div class="play-triangle"></div>
                                    </div>
                                    <div class="restart-button" id="restartBtn">
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                            <path d="M17.5 2.5V7.5H12.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M2.5 10C2.5 14.1421 5.85786 17.5 10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C7.64367 2.5 5.50732 3.55357 4.0625 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>

                            <!-- Year scroller on the right -->
                            <div style="flex: 1;">
                                <h5 class="control-label" style="margin: 0 0 8px 0;">Year Timeline</h5>
                                <div id="yearScroller"></div>
                                <div id="yearDisplay" class="display-text" style="margin-top: 5px; text-align: center;">
                                    Selected Year: <span id="currentYearDisplay">2006</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div id="tooltip" class="tooltip"></div>

    <!-- Load JS libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- Visualization modules -->
    <script src="js/vehicleChart.js"></script>
    <script src="js/yearScroll.js"></script>
    <script src="js/timeSlider.js"></script>

    <!-- Load data, create visualizations -->
    <script src="js/main.js"></script>
</body>
</html>
