<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cumulative pedestrian-involved collisions by pedestrian action (2006-2023)</title>

    <!-- Load Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700&family=Arial:wght@400;700' rel='stylesheet' type='text/css'>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS code -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="infographic-container">
        <!-- Title Section -->
        <div class="title-section">
            <h1 class="main-title">
                <span class="title-line-1">Cumulative pedestrian-involved collisions</span>
                <span class="title-line-2">by pedestrian action</span>
                <a href="https://data.torontopolice.on.ca/datasets/0a1ee9d9436546dcbdc0ee9301e45e83_0/explore?location=3.764176%2C-79.381430%2C0.00&showTable=true" target="_blank" class="title-line-3">Toronto Police Data</a>
            </h1>

            <!-- Description -->
            <div class="description-section">
                There is no shortage of delays that occur during our daily commutesâ€”no doubt due to construction, poor road infrastructure, limited public transportation options, and traffic collisions, the most quantifiable of all these reasons. Pedestrians make up the second highest number of fatal accidents in Toronto; which is concerning as Toronto is marketed as a walkable city. What conditions could cause this high volume of pedestrian collisions?<br><br>
                
            </div>
        </div>

        <!-- Main Visualization Area -->
        <div class="visualization-area">
            <!-- Controls row: filter bar + play/restart buttons -->
            <div class="controls-row">
            <!-- Filter tiles -->
            <div class="filter-bar" id="filter-bar">
                        
                    <!-- View Mode Toggle -->
                    <div class="tile-group" data-group="view">
                        <span class="tile-label">View</span>
                        <button class="tile active" id="view-mode-pedestrian" data-mode="pedestrian" data-value="pedestrian">Pedestrian</button>
                        <button class="tile" id="view-mode-driver" data-mode="driver" data-value="driver">Driver</button>
                    </div>
                    
                    <span class="tile-label">Filters</span>

                    <!-- Severity Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="severity-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Severity</span>
                        </button>
                        <div class="filter-checkbox-container" id="severity-checkboxes">
                        </div>
                    </div>

                    <!-- Pedestrian Action Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="pedAct-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Pedestrian Action</span>
                        </button>
                        <div class="filter-checkbox-container" id="pedAct-checkboxes">
                        </div>
                    </div>

                    <!-- Driver Action Filter -->
                    <div class="filter-dropdown-group" style="display: none;">
                        <button class="filter-btn" id="drivAct-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Driver Action</span>
                        </button>
                        <div class="filter-checkbox-container" id="drivAct-checkboxes">
                        </div>
                    </div>

                    <!-- Pedestrian Age Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="pedAge-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Pedestrian Age</span>
                        </button>
                        <div class="filter-checkbox-container" id="pedAge-checkboxes"></div>
                    </div>

                    <!-- Driver Age Filter -->
                    <div class="filter-dropdown-group" style="display: none;">
                        <button class="filter-btn" id="drivAge-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Driver Age</span>
                        </button>
                        <div class="filter-checkbox-container" id="drivAge-checkboxes"></div>
                    </div>

                    <!-- District Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="district-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>District</span>
                        </button>
                        <div class="filter-checkbox-container" id="district-checkboxes">
                        </div>
                    </div>
                </div>

                <!-- Play and Restart Buttons -->
                <div class="control-buttons">
                    <div class="play-button">
                        <div class="play-triangle"></div>
                    </div>
                    <div class="restart-button">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M17.5 2.5V7.5H12.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2.5 10C2.5 14.1421 5.85786 17.5 10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C7.64367 2.5 5.50732 3.55357 4.0625 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Road Visualization -->
            <div class="road-container">
                <div id="bar-chart"></div>
            </div>
            
            <!-- Year Slider -->
            <div id="year-scroll-container"></div>
        </div>
    </div>
</div>

<!-- Load JS libraries -->
<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- Year Scroll Component -->
<script src="../../js/yearScroll.js"></script>

<!-- Visualization objects -->
<script src="js/barChart.js"></script>

<!-- Load data, create visualizations -->
<script src="js/main.js"></script>
</body>
</html>